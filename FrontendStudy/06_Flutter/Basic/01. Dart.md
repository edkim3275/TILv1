# Dart

- hello world

  세미콜론(;)은 한 줄이 끝날때마다 반드시 작성해준다.

  ```dart
  void main() {
      print('Hello world.');
  }
  ```

## 변수

### 변수선언

코드는 위에서 아래로 순서대로 실행된다.

변수선언은 `var` 키워드를 사용한다.

변수의 값은 변경할 수 있으나, 재선언은 불가능하다.

```dart
void main() {
    var name = 'edgar';
    var name2 = 'edkim';
    name = 'change';
    print(name); // change
    
    var name = '재선언은 불가';
}
```

### 변수타입

- 문자(String)

  ```dart
  // 글자 타입
  // String
  String name2 = '에드';
  String name3 = '김';
  print(name2);
  print(name3);
  ```

- 정수(integer)

  ```dart
  // 정수
  // integer
  int number1 = 10;
  print(number1);
  
  int number2 = -20;
  print(number2);
  
  // 산술연산
  print(number1 + number2);
  print(number1 - number2);
  print(number1 / number2);
  print(number1 * number2);
  ```

- 실수(double)

  ```dart
  // 실수
  // double
  double number3 = 2.5;
  double number4 = 0.5;
  
  print(number3 + number4);
  print(number3 - number4);
  print(number3 / number4);
  print(number3 * number4);
  ```

- 불리언(Boolean)

  ```dart
  // 불리언
  // Boolean
  bool isTrue = true;
  bool isFalse = false;
  print(isTrue);
  print(!isTrue);
  print(isFalse);
  print(!isFalse);
  ```

- var

  ```dart
  // var String
  var name4 = 'name';
  var number5 = 20;
  // 실제 변수값이 실행되는 순간에 어떤타입인지 알려준다.
  print(name4.runtimeType);
  
  // 이런 경우 매번 타입지정이 어렵기에 var 사용하기도 한다.
  Map<String, Map<int, List<double>>> testType = {};
  // var testType = {};
  ```

- 문자열은 덧셈가능

  ```dart
  String name = 'edgar';
  String name2 = 'kim';
  
  // 덧셈가능
  print(name + name2);
  print(name + ' ' + name2);
  
  // 변수사용
  print('${name} ${name2}');
  // 생략가능(변수만 사용할 경우)
  print('$name $name2');
  ```

- dynamic

  ```dart
  dynamic name = 'edkim';
  print(name);
  
  dynamic number = 1;
  print(number);
  
  var name2 = 'john';
  print(name2);
  
  print(name.runtimeType);
  print(name2.runtimeType);
  
  // dynamic string => integer(타입변경가능)
  name = 2;
  
  // var string !=> integer(타입변경불가능)
  // name2 = 5;
  ```

## Nullable vs. Non-nullable

```dart
void main() {
    String name = 'edkim';
    name = null;
}
```

위와 같이 작성하면 아래와 같은 에러가 발생한다.

![image-20230109222247479](01. Dart.assets/image-20230109222247479.png)

즉, String 타입은 null이 될 수 없다(`non-nullable`)는 것이다. 그렇다면 null이 될 수 있도록 변수 선언을 하는 방법은 무엇인가?

```dart
void main() {
    String? name = 'edkim';
    name = null;
    print(name!); // name은 null이 아님을 지정해줄 수 있다. 이 경우 바로 윗줄에서 null로 지정해놨는데 이처럼 !로 지정해줄 경우 에러가 발생하게된다.
}
```

위처럼 타입뒤에 `?`를 붙여주면 변수를 null이 될 수 있도록(`nullable`) 만들 수 있다. 추가적으로 null이 들어갈 수 있는 타입에 `!`를 붙여주면 현재 해당하는 값은 null이 아니다 라고 지정해줄 수가 있다.

## Final vs. Const

- Final

  Final은 일반적으로 변수 선언할 때 변수선언 맨 앞코드에 작성해준다.

  Final로 변수 선언을 하게되면, **변수 선언 이후에 변수 값을 변경할 수 없다.**

  ![image-20230109223126722](01. Dart.assets/image-20230109223126722.png)

- Const

  Const도 작성방식은 final과 동일하다.

  const또한 final과 마찬가지고 **변수 선언 이후에 변수 값을 변경할 수 없다.**

  ![image-20230109223242260](01. Dart.assets/image-20230109223242260.png)

- `var` 키워드 생략이 가능하다.

  타입을 지워버리고 변수 선언이 가능하다.

  ![image-20230109223413715](01. Dart.assets/image-20230109223413715.png)

  위 코드는 아래와 동일하다.

  ![image-20230109223456338](01. Dart.assets/image-20230109223456338.png)

- DateTime

  시간과 날짜를 저장할 수 있는 데이터타입

  ```dart
  void main() {
      DateTime now = DateTime.now(); // 현재시간을 저장
      print(now); // 2023-01-09 22:36:15.227
  }
  ```

  하지만 여기서 주의해야할 점이 있다. 위에서 `DateTime.now()`에서 의미하는 현재시간은 코드를 실행하는 순간이 아니라 코드를 주욱 실행하다가 **해당 `DateTime.now()`코드가 실행될 때의 현재시간을 의미한다.**

  ```dart
  void main() {
    DateTime now = DateTime.now(); // 시간a
    print(now);
    
    DateTime now2 = DateTime.now(); // 시간b
    print(now2);
  }
  ```

  시간a와 시간b는 코드실행이 매우 빨리되어서 값이 같을 수는 있으나 정확한 의미는 코드가 실행되는 시간이므로 now와 now2값은 다르다.

- 여기서! final과 const를 적용해보면 아래와 같이 에러(Const variables must be initialized with a constant value)가 뜬다.

  ![image-20230109224914768](01. Dart.assets/image-20230109224914768.png)

  :star:**const는 build 타임의 값을 알고있어야 하는반면 final은 build 타임의 값을 알고있지 않아도 된다.**

  build time은 뭐임?

  우리가 프로그램 코드를 작성한 후에 build를 하게되면 해당 프로그래밍 언어가 컴퓨터가 이해할 수 있는 언어로(10100010...) 변환이 된다. 이 build가 이루어지는 순간이 build time이다. const가 build time의 값을 알고 있어야 한다는 말인 즉슨, 해당 코드를 작성했을 때 작성하는 순간의 코드의 값을 알고있어야 한다. 하지만 `DateTime.now()`의 경우 해당 코드가 실행될 때의 시간이고, 언제 실행될지는 알 수가 없다. 그렇기에 `const`로 선언한 변수의 경우 `DateTime.now()`값을 할당 받을 수 없다.

## Operator

여러가지 연산자(곱셈, 덧셈, ...)

- 기본 산술연산

```dart
void main() {
  int number = 2;
  print(number);
  print(number + 2);
  print(number - 2);
  print(number * 2);
  print(number / 2);
  
  print('-----------');
  print(number % 2); // 나머지
  print(number % 3);
  
  print('-----------');
  number++; // 1만큼 증가
  print(number);
  number--; // 1만큼 감소
  print(number);
}
```

- 아래와 같이도 가능하다

  ```dart
  void main() {
    double number = 4.0;
    print(number);
    
    number += 1;
    print(number); // 5
    
    number -= 1;
    print(number); // 4
    
    number *= 2;
    print(number); // 8
    
    number /= 2;
    print(number); // 4
  }
  ```

- null조건 operator

  ```dart
  void main() {
    // null
    double? number = 4.0;
    print(number);
    
    // final, const 둘 다 아니라서 변수값변경이 가능하다.
    number = 2.0;
    print(number);
    
    // double뒤에 ?를 넣어줬으므로 null또한 가능하다.
    number = null;
    print(number);
    
    number ??= 3.0;
    print(number); // 3
  }
  ```

  여기에서 `number = null`부분을 생략하면 어떻게 될까?

  ```dart
  void main() {
    ...
        
    // 생략해보면
    // number = null;
    
    number ??= 3.0;
    print(number); // 2
  }
  ```

  2가 된다는 것을 알 수 있다.

  `??=` 을 해석해보면 좌항 변수의 값이 `null`이라면 우항의 값으로 변경해라가 되겠다. `null`이 아니라면 값을 그대로 유지.

- 비교 연산자

  ```dart
  void main() {
    int number1 = 1;
    int number2 = 2;
    
    print(number1 > number2);
    print(number1 < number2);
    print(number1 >= number2);
    print(number1 <= number2);
    print(number1 == number2);
    print(number1 != number2);
  }
  ```

- 타입 비교 연산자

  ```dart
  void main() {
      int number = 1;
      print(number is int); // true
      print(number is String); // false
      print(number is! int); // false
      print(number is! String); // true
  }
  ```

- 논리 연산자

  ```dart
  void main() {
    // && - 두 조건 모두 충족해야 할 때
    // 두 조건 모두 true일 경우 true
    // 둘 중 하나라도 false일 경우 false
    bool result = 12 > 10 && 1 > 0;
    print(result);
    bool result2 = 12 > 10 && 1 < 0;
    print(result2);
    
    // || - 두 조건 중 하나만 충족하면 될 때
    // 둘 중 하나만 true일 경우 true
    // 두 조건 모두 false일 경우 false
    bool result3 = 12 > 10 || 1 < 0;
    print(result3);
    bool result4 = 12 < 10 || 1 < 0;
    print(result4);
  }
  ```

## List

조금은 복잡할 수 있지만 차근차근해보자. 리스트 타입은 말그대로 리스트(List)를 의미한다.

```dart
void main() {
    // List
	List<String> mv1_4 = ['edgar', 'john', 'hyun'];
	List<int> numbers = [1, 2, 4, 5, 3, 7];
	print(mv1_4); // [edgar, john, hyun]
	print(numbers); // [1, 2, 4, 5, 3, 7]
    
    // index
    // 0부터 시작
  	print(mv1_4[0]); // edgar
  	print(mv1_4[1]); // john
    
    // 길이
  	print(mv1_4.length); // 3
    
    // 추가
    mv1_4.add('gong');
    print(mv1_4); // [edgar, john, hyun, gong]
    // 삭제
    mv1_4.remove('gong');
    print(mv1_4); // [edgar, john, hyun]

    // 인덱스가져오기
    print(mv1_4.indexOf('hyun')); // 2
}
```

리스트 타입에는 위에 보이는 꺾쇠(`<>`) 모양의 제너릭(generic)이라는 것을 사용하는데 이 안에 리스트 안에 들어가는 변수들의 타입을 지정해주게 된다.

