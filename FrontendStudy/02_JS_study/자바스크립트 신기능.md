# JS 신기능

> EcmaScript 2022(ES2022) 가장 최신 출시된 JS 표준

## top level await

이전에 await 사용하려면 async 함수 내에서 해야만 했다.

```js
(async function () {
	await startServer();
})();
```

이러한 규칙이 사라지고 이제 await를 async없이 모듈에서 사용할 수 있다!

```js
await startServer();
```

## Error cause

오류의 원인을 설명하여 더 나은 오류 메시지 만들 수 있다.

이전에는 오류를 만들 때, 오류 메시지를 생성하는 방법밖에 없었다.

```js
new Error("Error message");
```

이젠 무엇이 오류를 발생시켰는지 설명이 가능하다.

```js
new Error("Error message", { cause: "Not allowed."})
new Error("Error message", { cause: "Post no found"})
```

정확히 무엇이 잘못되었는지 알 수 있다. 동일한 오류 메시지를 사용하지만 다른원인을 작성할 수 있다.

## .at()

배열의 인덱스에 있는 요소 확인이 가능하다.

```js
const arr = ['a', 'b', 'c', 'd']
arr.at(1); // 'b'
```

기존에 배열의 요소에 접근했던 방식과의 차이점이라면 끝에서부터 접근할 수 있다는 점.

```js
// 기존방식
arr[3]; // 'd'

// .at()
arr.at(-1);
```

## Class Field

private 메서드, 속성들을 가질 수 있다.

private 메서드나 속성을 만드려면 이름 앞에 `#` 기호를 사용하면 됨.

```js
class Message {
    #text = 'Hi';
    #destruct() {
    	console.log('hello')
	}
}

const btn = new Message();
btn.#destruct(); // 작동이 안됨
```

static 메서드 사용도 가능해짐. 원래는 속성을 초기화 하기 위해서 constructor를 사용함.

기존에 아래와 같은 방식으로 static 메서드를 사용했다면

```js
class Message {
    // body
}

Message.build(){
    // body
}
```

변경된 방식은

```js
class Message {
    static build() {
        // body
    }
}
```

